---
import Layout from "../../layouts/Layout.astro";
import SingleProduct from "../../components/SingleProduct";

export const prerender = true;
export const getStaticPaths = async () => {
  const res = await fetch("http:localhost:8080");
  let data = await res.json();
  console.log("data--->", data);
  let paths = data.data.map((i: any) => {
    return {
      params: { id: i.id },
      props: { product: i },
    };
  });
  return paths;
};

const { id } = Astro.params;
const { product } = Astro.props;
console.log("id--->", id, product);
---

<Layout title="oneItem">
  <SingleProduct singleProduct={product} client:only />
</Layout>
